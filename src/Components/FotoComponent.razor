<div class="foto-component">
    <input type="file"
           class="foto-component-input"
           accept="@Accept"
           capture="@CaptureMode"
           @ref="fileInput"
           @onchange="HandlePhotoSelected"
           disabled="@IsCaptureDisabled"
           hidden />

    <button type="button"
            class="@ButtonCssClass"
            @onclick="TriggerCaptureAsync"
            disabled="@IsCaptureDisabled">
        @ButtonText
    </button>

    @if (IsBusy)
    {
        <span class="foto-component-spinner" role="status" aria-live="polite">
            <span class="spinner-border spinner-border-sm" aria-hidden="true"></span>
            <span class="visually-hidden">@LoadingText</span>
        </span>
    }

    @if (!string.IsNullOrWhiteSpace(LastError))
    {
        <div class="alert alert-danger mt-3" role="alert">@LastError</div>
    }

    @if (ShowPreview && !string.IsNullOrEmpty(PreviewImageDataUrl))
    {
        <div class="foto-component-preview mt-3">
            <img src="@PreviewImageDataUrl" alt="@PreviewAltTextValue" class="img-fluid rounded" />
        </div>
    }
</div>
