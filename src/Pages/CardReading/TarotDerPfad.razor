@page "/kartenlegen/tarot-der-pfad"
@inherits CardReadingPageBase

<PageTitle>@DisplayTexts.CardReadingPathPageTitle</PageTitle>

<h1>@DisplayTexts.CardReadingPathPageHeader</h1>

<CardDeckSelector StorageKey="@DeckStorageKey"
                  DeckSelectionChanged="HandleDeckSelectionChangedAsync" />

<CardSearchPicker DeckId="@SelectedDeckId"
                  DeckDisplayName="@SelectedDeckDisplayName"
                  PlaceholderText="@CardPlaceholderText"
                  SelectedCard="@pathCard"
                  SelectedCardChanged="OnPathCardChangedAsync" />

@code {
    private DeckCardInfo? pathCard;

    protected override string PageTitle => DisplayTexts.CardReadingPathPageTitle;

    protected override string DeckStorageKey => CardDeckStorageKeys.TarotDerPfad;

    protected override Task OnDeckChangedAsync(DeckOption? option)
    {
        pathCard = null;
        return Task.CompletedTask;
    }

    private Task OnPathCardChangedAsync(DeckCardInfo? card)
    {
        pathCard = card;
        return Task.CompletedTask;
    }
}
