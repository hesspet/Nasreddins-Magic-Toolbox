@page "/kartenlegen/tarot-ein-karten-orakel"
@inherits CardReadingPageBase

<PageTitle>@DisplayTexts.CardReadingSingleCardPageTitle</PageTitle>

<h1>@DisplayTexts.CardReadingSingleCardPageHeader</h1>

<CardDeckSelector StorageKey="@DeckStorageKey"
                  DeckSelectionChanged="HandleDeckSelectionChangedAsync" />

<CardSearchPicker DeckId="@SelectedDeckId"
                  DeckDisplayName="@SelectedDeckDisplayName"
                  PlaceholderText="@CardPlaceholderText"
                  SelectedCard="@singleCard"
                  SelectedCardChanged="OnSingleCardChangedAsync" />

@code {
    private DeckCardInfo? singleCard;

    protected override string PageTitle => DisplayTexts.CardReadingSingleCardPageTitle;

    protected override string DeckStorageKey => CardDeckStorageKeys.TarotEinKartenOrakel;

    protected override Task OnDeckChangedAsync(DeckOption? option)
    {
        singleCard = null;
        return Task.CompletedTask;
    }

    private Task OnSingleCardChangedAsync(DeckCardInfo? card)
    {
        singleCard = card;
        return Task.CompletedTask;
    }
}
